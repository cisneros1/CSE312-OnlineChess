<!DOCTYPE html>
<!-- Created by CodingLab |www.youtube.com/CodingLabYT-->
<html lang="en" dir="ltr">

<head>
    <title>CSE312 Sample Front End</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body onload="setup(); welcome();">
    <div class="sidebar open">
        <div class="logo-details">
            <i class='bx bxl-c-plus-plus icon'></i>
            <div class="logo_name">OnlineChess</div>
            <i class='bx bx-menu' id="btn"></i>
        </div>
        <ul class="nav-list">
           <h5>Online Users</h5>
           <div id="onlineUsers">
           </div>
        </ul>
    </div>
    <section class="home-section" style="background-color: '{{background_color}}'">

        <div id="login_button">
            <a href="signin">Login</a>
        </div>

        <h1 style="text-align: center">Online Chess</h1>
        <img id="chess_image" src="image/chessboard.jpg" class="img-rounded" alt="Chess Board" width="800" height="800" hidden>
        
        <h1>CSE312 Sample Page</h1>
        <h2>Welcome {{user}}!</h2>
        
        <script src="../Chess/ChessEngine.js"></script>
        <script src="functions.js"></script>


        <canvas id="chess_canvas" width="1000" height="1000">
            Canvas here.
        </canvas>

        <p id="paragraph">
            This text is from the HTML file ðŸ™‚
        </p>
        <!-- TODO - remove this when done testing -->
        <h6>Logged in users are: </h6>
        <ul>
        {{loop}}
            <li>{{logged_in_user}}</li>
        {{end_loop}}
        </ul>
        <br>
                
        
        <label for="chat-comment">Chat: </label>
        <input id="chat-comment" type="text" name="comment">
        <button onclick="sendMessage()">Send</button>
        <br />

        <label for="form-file">Image: </label>
        <input id="form-file" type="file" name="upload">
        <!-- <input type="submit" value="Post"> -->

        <div id="chat"></div>
<!--        // DM from other user: actual message -->

        <br />
        <button onclick="startVideo()">Start My Video</button>
        <br />
        <button onclick="connectWebRTC()">Start Video Chat</button>
        <br />

        <video id="myVideo" autoplay muted></video>
        <br />
        <video id="otherVideo" autoplay></video>

    <form action="/image-upload_{{user}}" id="image-form" method="post" enctype="multipart/form-data">
       <label for="image-form-comment">Comment: </label>
       <textarea id="image-form-comment" name="comment" cols="40" rows="6"></textarea>
       <br/>
       <label for="image-file">Image: </label>
       <input id="image-file" type="file" name="upload">
       <input type="submit" value="Post">
    </form>


    </section>
    <script>
        let sidebar = document.querySelector(".sidebar");
        let closeBtn = document.querySelector("#btn");
        let searchBtn = document.querySelector(".bx-search");

        closeBtn.addEventListener("click", () => {
            sidebar.classList.toggle("open");
            menuBtnChange();//calling the function(optional)
        });

        searchBtn.addEventListener("click", () => { // Sidebar open when you click on the search iocn
            sidebar.classList.toggle("open");
            menuBtnChange(); //calling the function(optional)
        });

        // following are the code to change sidebar button(optional)
        function menuBtnChange() {
            if (sidebar.classList.contains("open")) {
                closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");//replacing the iocns class
            } else {
                closeBtn.classList.replace("bx-menu-alt-right", "bx-menu");//replacing the iocns class
            }
        }
    </script>
</body>

</html>